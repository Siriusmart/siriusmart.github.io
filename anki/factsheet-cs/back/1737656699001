By keeping "conversation" data in a dynamically updated <b>connection table</b>.